<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36" version="24.8.6">
  <diagram name="第 1 页" id="gCJ-1plTchgJcWGSmKfE">
    <mxGraphModel dx="2474" dy="1506" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="5R-QOPwpoOVISheIo97F-1" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-226" y="-258" width="591" height="350" as="geometry" />
        </mxCell>
        <mxCell id="5R-QOPwpoOVISheIo97F-2" value="方法区" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="-188" y="-175" width="221" height="100" as="geometry" />
        </mxCell>
        <mxCell id="5R-QOPwpoOVISheIo97F-3" value="&lt;font style=&quot;font-size: 21px;&quot;&gt;运行时数据区&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-61.5" y="-247" width="262" height="30" as="geometry" />
        </mxCell>
        <mxCell id="5R-QOPwpoOVISheIo97F-4" value="堆" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="-188" y="-45" width="223" height="93" as="geometry" />
        </mxCell>
        <mxCell id="5R-QOPwpoOVISheIo97F-5" value="虚拟机栈" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="96" y="-167" width="155" height="84" as="geometry" />
        </mxCell>
        <mxCell id="5R-QOPwpoOVISheIo97F-6" value="本地方法栈" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="96" y="-45" width="155" height="84" as="geometry" />
        </mxCell>
        <mxCell id="5R-QOPwpoOVISheIo97F-7" value="程序计数器" style="rounded=0;whiteSpace=wrap;html=1;horizontal=0;verticalAlign=middle;rotation=0;fontSize=17;" parent="1" vertex="1">
          <mxGeometry x="270" y="-167" width="41" height="206" as="geometry" />
        </mxCell>
        <mxCell id="5R-QOPwpoOVISheIo97F-8" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="84" y="-183" width="246" height="241" as="geometry" />
        </mxCell>
        <mxCell id="5R-QOPwpoOVISheIo97F-9" value="每个线程各一份" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;textShadow=0;labelBackgroundColor=none;labelBorderColor=none;" parent="1" vertex="1">
          <mxGeometry x="125" y="58" width="168" height="30" as="geometry" />
        </mxCell>
        <mxCell id="5R-QOPwpoOVISheIo97F-10" value="执行引擎" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="-199" y="161" width="130" height="73" as="geometry" />
        </mxCell>
        <mxCell id="5R-QOPwpoOVISheIo97F-11" value="本地库接口" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="32" y="161" width="130" height="73" as="geometry" />
        </mxCell>
        <mxCell id="5R-QOPwpoOVISheIo97F-12" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-48" y="199" as="sourcePoint" />
            <mxPoint x="12" y="199" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5R-QOPwpoOVISheIo97F-13" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-153" y="99" as="sourcePoint" />
            <mxPoint x="-153" y="155" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5R-QOPwpoOVISheIo97F-14" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-106.5" y="157" as="sourcePoint" />
            <mxPoint x="-106.5" y="101" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5R-QOPwpoOVISheIo97F-15" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="76" y="99" as="sourcePoint" />
            <mxPoint x="76" y="155" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5R-QOPwpoOVISheIo97F-16" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="122.5" y="157" as="sourcePoint" />
            <mxPoint x="122.5" y="101" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5R-QOPwpoOVISheIo97F-17" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="181" y="193" as="sourcePoint" />
            <mxPoint x="241" y="193" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5R-QOPwpoOVISheIo97F-18" value="本地方法库" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="263" y="180" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="a0R8h625RDWyRhPN2itE-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="a0R8h625RDWyRhPN2itE-2" target="a0R8h625RDWyRhPN2itE-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="a0R8h625RDWyRhPN2itE-2" value="对象创建过程" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="774" y="-296" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="a0R8h625RDWyRhPN2itE-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="a0R8h625RDWyRhPN2itE-3" target="a0R8h625RDWyRhPN2itE-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="a0R8h625RDWyRhPN2itE-3" value="分配内存" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="774" y="-48" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="a0R8h625RDWyRhPN2itE-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="a0R8h625RDWyRhPN2itE-4" target="a0R8h625RDWyRhPN2itE-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="a0R8h625RDWyRhPN2itE-18" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="a0R8h625RDWyRhPN2itE-10">
          <mxGeometry x="-0.0423" y="1" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="a0R8h625RDWyRhPN2itE-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="a0R8h625RDWyRhPN2itE-4" target="a0R8h625RDWyRhPN2itE-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="a0R8h625RDWyRhPN2itE-19" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="a0R8h625RDWyRhPN2itE-12">
          <mxGeometry x="-0.7241" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="a0R8h625RDWyRhPN2itE-4" value="是否加载、解析、初始化" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="776" y="-203" width="116" height="97" as="geometry" />
        </mxCell>
        <mxCell id="a0R8h625RDWyRhPN2itE-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="a0R8h625RDWyRhPN2itE-5" target="a0R8h625RDWyRhPN2itE-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="a0R8h625RDWyRhPN2itE-5" value="设置零值" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="774" y="43" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="a0R8h625RDWyRhPN2itE-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="a0R8h625RDWyRhPN2itE-6" target="a0R8h625RDWyRhPN2itE-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="a0R8h625RDWyRhPN2itE-6" value="设置对象头" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="774" y="134" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="a0R8h625RDWyRhPN2itE-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="a0R8h625RDWyRhPN2itE-7" target="a0R8h625RDWyRhPN2itE-16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="a0R8h625RDWyRhPN2itE-7" value="初始化" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="776" y="225" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="a0R8h625RDWyRhPN2itE-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="a0R8h625RDWyRhPN2itE-8" target="a0R8h625RDWyRhPN2itE-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="a0R8h625RDWyRhPN2itE-8" value="类加载" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="963" y="-184.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="a0R8h625RDWyRhPN2itE-16" value="结束" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="779" y="316" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="a0R8h625RDWyRhPN2itE-20" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="903" y="-53.5" width="20" height="71" as="geometry" />
        </mxCell>
        <mxCell id="a0R8h625RDWyRhPN2itE-21" value="内存规整：指针碰撞" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="923" y="-53.5" width="141" height="30" as="geometry" />
        </mxCell>
        <mxCell id="a0R8h625RDWyRhPN2itE-22" value="内存不规整：空闲列表" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="916" y="-10" width="141" height="30" as="geometry" />
        </mxCell>
        <mxCell id="a0R8h625RDWyRhPN2itE-23" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;flipH=1;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="1046" y="-53.5" width="20" height="71.5" as="geometry" />
        </mxCell>
        <mxCell id="a0R8h625RDWyRhPN2itE-24" value="是否规整取决于GC算法" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1076" y="-33" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="a0R8h625RDWyRhPN2itE-25" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;flipH=1;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="742" y="-54" width="20" height="71.5" as="geometry" />
        </mxCell>
        <mxCell id="a0R8h625RDWyRhPN2itE-26" value="考虑到线程安全问题，有两种做法：&lt;div&gt;1、分配动作同步处理，CAS&lt;/div&gt;&lt;div&gt;2、每个线程预分配一小块地址，本地线程分配缓冲TLAB&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="541" y="-53.5" width="204" height="76.5" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
